!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=e.parcelRequired7c6;null==r&&((r=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var r={id:t,exports:{}};return n[t]=r,e.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){a[t]=e},e.parcelRequired7c6=r),r("kvC6y");var o=r("4cG42"),c=r("bpxeT"),i=r("2TvXO"),l=r("7iFtI"),u=r("5pO50"),s=r("3lV3Z"),g="active",d="btn-pagination",p="numb",f="prev-page",b="next-page",h="first-page",v="last-page",w="dots",m="disabled";function L(t){var e=t.page,n=t.total_pages;document.querySelector(".pagination-container").innerHTML=function(t,e){if(t<2)return"";var n,a,r='<ul class="pagination-list" data-last="'.concat(t,'" data-current="').concat(e,'">'),o=e-1,c=e+1;if(e>1&&(r+='<li class="'.concat(d," ").concat(f,'"><button data-page="').concat(e-1,'"><svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.667 8H3.333M8 12.667 3.333 8 8 3.333" stroke-width="1.333" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg></button></li>')),t<6)for(var i=1;i<=t;i++)n=e===i?g:"",a=e===i?m:"",r+='<li class="'.concat(p," ").concat(n,'" ><button ').concat(a,' data-page="').concat(i,'">').concat(i,"</button></li>");else if(window.innerWidth>=768){e>3&&(r+='<li class="'.concat(p," ").concat(h,'" ><button data-page="1">1</button></li>'),5===e&&(r+='<li class="'.concat(p,'" ><button data-page="2">2</button></li>')),e>5&&(r+='<li class="'.concat(w,'"><button data-page="').concat(e-5,'">...</button></li>'))),1===e?c+=2:e>=2&&(c+=1),e===t?o-=2:e<=t-1&&(o-=1);for(var l=o;l<=c;l++)l<=0||l>t||(n=e===l?g:"",a=e===l?m:"",r+='<li class="'.concat(p," ").concat(n,'" ><button ').concat(a,' data-page="').concat(l,'">').concat(l,"</button></li>"));e<t-2&&(e<t-4&&(r+='<li class="'.concat(w,'"><button data-page="').concat(e+5,'">...</button></li>')),e===t-4&&(r+='<li class="'.concat(p,'" ><button data-page="').concat(t-1,'">').concat(t-1,"</button></li>")),r+='<li class="'.concat(p," ").concat(v,'" ><button data-page="').concat(t,'">').concat(t,"</button></li>"))}else if(window.innerWidth<768){e>2&&(r+='<li class="'.concat(p," ").concat(h,'" ><button data-page="1">1</button></li>')),1===e?c+=2:2===e&&(c+=1),e===t?o-=2:e===t-1&&(o-=1);for(var u=o;u<=c;u++)0===u&&(u+=1),u>t||(n=e===u?g:"",a=e===u?m:"",r+='<li class="'.concat(p," ").concat(n,'" ><button ').concat(a,' data-page="').concat(u,'">').concat(u,"</button></li>"));e<t-1&&(r+='<li class="'.concat(p," ").concat(v,'" ><button data-page="').concat(t,'">').concat(t,"</button></li>"))}return e<t&&(r+='<li class="'.concat(d," ").concat(b,'" ><button data-page="').concat(e+1,'"><svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.333 8h9.334M8 12.667 12.667 8 8 3.333" stroke-width="1.333" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg></button></li>')),r+"</ul>"}(n,e)}c=r("bpxeT"),i=r("2TvXO"),o=r("4cG42"),l=r("7iFtI");var S=r("Jmfug"),k=(o=r("4cG42"),r("6JEwH")),x=new(0,(j=r("kvC6y")).default),y={btnSwitchDay:document.querySelector(".time-switch-day"),btnSwitchWeek:document.querySelector(".time-switch-week")};function C(t){switch(t){case o.Movie.trendTime.DAY:(0,k.disabledEl)(y.btnSwitchDay),(0,k.unlockEl)(y.btnSwitchWeek);break;case o.Movie.trendTime.WEEK:(0,k.disabledEl)(y.btnSwitchWeek),(0,k.unlockEl)(y.btnSwitchDay)}}function E(){(0,k.unlockEl)(y.btnSwitchDay),(0,k.unlockEl)(y.btnSwitchWeek)}y.btnSwitchDay.addEventListener("click",(function(){x.enable("loader"),O.page=1,O.currentTrendTime=o.Movie.trendTime.DAY,F(O),C(o.Movie.trendTime.DAY),A()})),y.btnSwitchWeek.addEventListener("click",(function(){x.enable("loader"),O.page=1,O.currentTrendTime=o.Movie.trendTime.WEEK,F(O),C(o.Movie.trendTime.WEEK),A()}));s=r("3lV3Z");var M,T=new(0,(j=r("kvC6y")).default),N={formEl:document.querySelector(".search-form"),paragraphEl:document.querySelector(".warning-notification")},I=null,D=void 0;function H(){return(H=t(c)(t(i).mark((function e(n){var a,r;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,T.enable("loader"),n.preventDefault(),I=n.target.query.value.trim(),t.next=6,(0,S.getLanguageFromLS)();case 6:if(a=t.sent,""!==I){t.next=11;break}return a===o.Movie.language.ENGLISH?N.paragraphEl.innerHTML="Enter the name in the search field.":N.paragraphEl.innerHTML="Введіть назву в поле пошуку.",T.disable("loader"),t.abrupt("return");case 11:return(M=new(0,o.Movie)(I)).langCurrent=(0,S.getLanguageFromLS)(),t.next=15,M.fetchSearch();case 15:if(0!==(r=t.sent).total_results){t.next=23;break}return n.target.reset(),a===o.Movie.language.ENGLISH?N.paragraphEl.innerHTML="Search result not successful. Enter the correct movie name and try again.":N.paragraphEl.innerHTML="Результат пошуку невдалий. Введіть правильну назву фільму та повторіть спробу.",T.disable("loader"),U&&(A(),J(U)),D&&(M=D),t.abrupt("return");case 23:(0,l.makeMarkupCard)(r),L(r),n.target.reset(),q(),M.lastPage=r.total_pages,(0,s.setCurrenDataToLS)(r.results),E(),D=M,P(),t.next=37;break;case 34:t.prev=34,t.t0=t.catch(0),console.log(t.t0.message);case 37:case"end":return t.stop()}}),e,null,[[0,34]])})))).apply(this,arguments)}function A(){I=null,D=void 0}function q(){N.paragraphEl.innerHTML=""}N.formEl.addEventListener("submit",(function(t){return H.apply(this,arguments)}));var U=void 0;function F(t){return _.apply(this,arguments)}function _(){return(_=t(c)(t(i).mark((function e(n){var a;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,u.genreLoad)(n);case 3:return t.next=5,n.fetchTrend();case 5:a=t.sent,(0,s.setCurrenDataToLS)(a.results),(0,l.makeMarkupCard)(a),L(a),n.lastPage=a.total_pages,U=n,q(),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function G(t){return W.apply(this,arguments)}function W(){return(W=t(c)(t(i).mark((function e(n){var a;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,u.genreLoad)(n);case 3:return t.next=5,n.fetchSearch();case 5:a=t.sent,(0,s.setCurrenDataToLS)(a.results),(0,l.makeMarkupCard)(a),L(a),n.lastPage=a.total_pages,q(),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function P(){U=void 0}var O;S=r("Jmfug");function J(t){O=t}(new(0,(j=r("kvC6y")).default)).enable("preloader"),null===I&&function(){O=new(0,o.Movie);var t=(0,S.getLanguageFromLS)();t?(O.langCurrent=t,(0,S.switchBtnLang)(O.langCurrent)):O.langCurrent=(0,S.setLanguageToLS)(o.Movie.language.ENGLISH);F(O),C(o.Movie.trendTime.DAY),(0,S.setCurrentPageToLS)(S.keyLS.VALUE_PAGE_INDEX)}();o=r("4cG42"),S=r("Jmfug");var j=r("kvC6y"),R=r("bEuMR"),K=(c=r("bpxeT"),i=r("2TvXO"),S=r("Jmfug"),S=r("Jmfug"),o=r("4cG42"),{linkHome:document.querySelector(".js-homeLink-text"),linkMyLibrary:document.querySelector(".js-myLibrary-text"),btnSignUp:document.querySelector(".js-signUp-text"),btnLogIn:document.querySelector(".js-logIn-text"),searchPlaceholder:document.querySelector(".search-form__input")}),V=K.linkHome,X=K.linkMyLibrary,Y=K.btnSignUp,B=K.btnLogIn,Z=K.searchPlaceholder;function z(){return Q.apply(this,arguments)}function Q(){return(Q=t(c)(t(i).mark((function e(){var n;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,S.getLanguageFromLS)();case 2:(n=t.sent)===o.Movie.language.ENGLISH&&(V.textContent="Home",X.textContent="My library",Y.textContent="Sign Up","Вхід"===B.textContent?B.textContent="Log In":"Вихід"===B.textContent&&(B.textContent="Log Out"),Z.placeholder="Movie search",S.refs.btnSwitchEN.textContent="en",S.refs.btnSwitchUA.textContent="ua",y.btnSwitchDay.textContent="day",y.btnSwitchWeek.textContent="week"),n===o.Movie.language.UKRAINIAN&&(V.textContent="Головна",X.textContent="Бібліотека",Y.textContent="Реєстрація","Log In"===B.textContent?B.textContent="Вхід":"Log Out"===B.textContent&&(B.textContent="Вихід"),Z.placeholder="Пошук фільму",S.refs.btnSwitchEN.textContent="англ",S.refs.btnSwitchUA.textContent="укр",y.btnSwitchDay.textContent="день",y.btnSwitchWeek.textContent="тиждень");case 5:case"end":return t.stop()}}),e)})))).apply(this,arguments)}z();var $=r("astf2"),tt=new(0,j.default);S.refs.btnSwitchEN.addEventListener("click",(function(){tt.enable("loader"),null===I?(O.langCurrent=(0,S.setLanguageToLS)(o.Movie.language.ENGLISH),F(O)):(M.langCurrent=(0,S.setLanguageToLS)(o.Movie.language.ENGLISH),G(M));z(),(0,R.renderFooter)(),(0,$.translateAuthForms)()})),S.refs.btnSwitchUA.addEventListener("click",(function(){tt.enable("loader"),null===I?(O.langCurrent=(0,S.setLanguageToLS)(o.Movie.language.UKRAINIAN),F(O)):(M.langCurrent=(0,S.setLanguageToLS)(o.Movie.language.UKRAINIAN),G(M));z(),(0,R.renderFooter)(),(0,$.translateAuthForms)()}));var et=r("fkFrJ"),nt=new(0,(j=r("kvC6y")).default);document.querySelector(".pagination-container").addEventListener("click",(function(t){nt.enable("loader");var e={elPaginationList:document.querySelector(".pagination-list")},n=e.elPaginationList.dataset.current,a=(e.elPaginationList.dataset.last,1);if("BUTTON"===t.target.nodeName)a=t.target.dataset.page;else{var r=t.target.closest("[data-page]");if(!r)return;a=r.dataset.page}if(a===n)return;o=a,null===I?O.page=o:M.page=o,null===I?F(O):G(M),(0,et.handleButtonClick)();var o})),r("3nfD2"),r("5xtVg"),r("fkFrJ"),r("bEuMR"),r("aZhHc"),r("sPj1j"),r("bmNaJ"),r("astf2")}();
//# sourceMappingURL=index.02c61be3.js.map
